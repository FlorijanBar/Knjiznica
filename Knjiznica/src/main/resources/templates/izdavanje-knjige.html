<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Knjiznica</title>
</head>
<body>

<h1>Dodavanje knjige</h1>
<form th:action="@{/api/knjiga/create}" method="post">
    <label for="naziv">Naziv:</label>
    <input type="text" id="naziv" name="naziv" required>
    <br>
    <label for="autor">Autor:</label>
    <input type="text" id="autor" name="autor" required>
    <br>
    <input type="submit" value="Dodaj">
</form>

<h1>Sve knjige</h1>
<table>
    <tr>
        <th>ID</th>
        <th>Naziv</th>
        <th>Autor</th>
        <th>Akcije</th>
    </tr>
    <tr th:each="knjiga : ${knjige}">
        <td th:text="${knjiga.id}"></td>
        <td th:text="${knjiga.naziv}"></td>
        <td th:text="${knjiga.autor}"></td>
        <td>
            <a th:href="@{/api/knjiga/{id}(id=${knjiga.id})}">Prikaži</a>
            <a th:href="@{/api/knjiga/{id}/update(id=${knjiga.id})}">Uredi</a>
            <a th:href="@{/api/knjiga/{id}/delete(id=${knjiga.id})}">Izbriši</a>
        </td>
    </tr>
</table>

<h1>Izdavanje knjige</h1>
<form th:action="@{/api/knjiga/{knjigaId}/izdaj/{studentId}(knjigaId=${knjiga.id},studentId=${student.id})}" method="post">
    <label for="student">Student:</label>
    <select id="student" name="studentId" required>
        <option th:each="student : ${studenti}" th:value="${student.id}" th:text="${student.ime} + ' ' + ${student.prezime}"></option>
    </select>
    <br>
    <label for="knjiga">Knjiga:</label>
    <select id="knjiga" name="knjigaId" required>
        <option th:each="knjiga : ${knjige}" th:value="${knjiga.id}" th:text="${knjiga.naziv}"></option>
    </select>
    <br>
     <br>
    <label for="datumVracanja">Datum vraćanja:</label>
    <input type="date" id="datumVracanja" name="datumVracanja" required>
    <br>
    <input type="submit" value="Izdaj">
</form>


<h1>Provjera statusa izdavanja knjige</h1>
<form th:action="@{/api/knjiga/{knjigaId}/status(knjigaId=${knjigaId})}" method="get">
    <label for="knjigaStatus">Unesite ID knjige:</label>
    <input type="text" id="knjigaStatus" name="knjigaId" required>
    <br>
    <input type="submit" value="Provjeri">
</form>

<h1>Pregled izdanih knjiga za studenta</h1>
<form th:action="@{/api/knjiga/student/{studentId}/izdane-knjige(studentId=${studentId})}" method="get">
    <label for="studentIzdaneKnjige">Unesite ID studenta:</label>
    <input type="text" id="studentIzdaneKnjige" name="studentId" required>
    <br>
    <input type="submit" value="Prikaži">
</form>

</body>
</html>
